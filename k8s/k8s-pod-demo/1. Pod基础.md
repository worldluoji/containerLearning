### POD在Kubernetes中的角色

POD是Kubernetes（k8s）项目中的**原子调度单位**，它能够容纳一个或**多个Docker容器**，作为应用部署的基本构建块。

#### POD的本质

- **逻辑概念**: POD纯粹是一个逻辑上的集合体，它不直接对应物理或虚拟实体，而是用来组织和管理相关容器的框架。
  
#### 共享资源

- **网络与存储**: POD内部的容器**共享同一个Network Namespace**，这意味着它们之间能够使用`localhost`直接通信。同时，POD还支持容器间声明式的**Volume共享**，确保数据的一致性和访问性。

#### POD级别属性

- **调度与管理**: 所有的**调度、网络配置、存储管理及安全策略**都是在POD这一层级定义和实施的，为容器提供了统一的运行环境和策略控制。

#### POD对象的高级抽象

- **容器的升级版**: POD对象是对单一容器概念的扩展，它通过组合容器，并引入额外的属性和配置选项，为容器化应用提供了更丰富的管理维度。

#### Infra容器的作用

<img src="./images/通过Infra容器连接POD中的多个容器.png" />

- **中间容器（Infra Container）**: 在Kubernetes中实现POD时，引入了一个特殊的**Infra容器**作为基础设施。这个容器体积小巧（通常由几十到几百KB的汇编语言编写），性能优异。
  
- **网络命名空间**: Infra容器是每个POD中**首个创建**的容器，其他业务容器通过**加入Infra容器的Network Namespace**来实现网络层面的集成。
  
- **Pod内部通信**: 
  1. **直接localhost通信**: 容器A和B可直接通过`localhost`相互通信，无需额外网络配置。
  2. **共享网络视图**: 容器间的网络设备视角与Infra容器相同。
  3. **单一IP**: 整个POD仅分配一个IP地址，所有容器共享此网络资源。
  4. **生命周期绑定**: POD的生命周期严格与Infra容器绑定，而与具体的应用容器（如A、B）的生命周期解耦。